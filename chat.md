# 半自由シナリオ

- 音声認識前提

- 記法

```
U: ユーザ
S: システムキャラクター

@ コメント
[A] 変数
[B|C] 極性判別で結果が分岐 @得点に関係
#{D} 集合
E|F Eのときに裏ではDの処理
G ? H : I Gの時H、そうでなければI
```

- テロップは継続して表示

## トレーニングの説明

- 目標
  + 食事に誘うこと
  + 不満を持たせないような対話を行うこと

## 挨拶
```
テロップ表示: 挨拶をしましょう
U: 初めまして【あなたの名前】です @自由発話、認識結果がめちゃくちゃでも自己紹介が終わったと判断
S: 初めまして[キャラの名前]といいます、よろしくお願いします
```

## 自己紹介
```
S: あなたの好きなものはなんですか？
テロップ表示: 〜あなたの好きなものを紹介してください〜
U: [preference]が好きです @ 自由回答/~が好きですとというテンプレートを促す、テンプレートに乗るまで音声認識を繰り返す
S: [preference]ですか、[preference]は[いいですね|少し苦手です]
S: 私は[disclosure]が好きです。他にも[disclosure]に興味があります。
U: (可能なら選択肢の提示なし、また時間制限ありが望ましい)
  1. #{disclosureが含まれる発言} | 評価 ↑ @可能なら評価の極性判別
  2. #{相槌}(e.g. そうなんですね、へー) | 評価↓
  3. #{complement of disclosure} | 評価↓
  4. 時間制限超過 | 気まずいため評価↓↓
(S: 上記選択肢/視線情報により表情変化)
S: えーと、休日は何をしているんですか？
U: [hobby]をしています@自由回答/~をしていますというテンプレートを促す
S: [hobby]ですか、[hobby]には[いい印象があります！|いい印象がないです...]
(S: 上記選択肢/視線情報により表情変化)

```

## 料理の話題

```
(S: 表情変化をニュートラルに戻す)
テロップ表示: ~相手の好きな料理を聞き出しましょう~
U: どんな料理が好きですか？
S: 日本食が好きですけど少し飽きました、それと甘いものも好きです、辛いのはちょっと苦手です
U: (可能なら選択肢の提示なし、また時間制限ありが望ましい)
  1. #{日本食} |if 疑問文 ? #{はぐらかす-秘密です} : [あいづち]
  2. #{日本食以外の料理名が含まれる発言=cuisine}は好き？| if イタリア料理/フランス料理/ロシア料理 ? [cuisine]も好きです : はあまり食べませんね
  3. #{相槌}(e.g. そうなんですね、へー) | 評価↓
  4. #{complement of 料理名} | 評価↓ | if 疑問文 ? #{はぐらかす-秘密です} : [あいづち]
  5. 時間制限超過 | 気まずいため評価↓↓
@1,2の場合自由回答戻る(3回まで)、強制的に音声認識開始
```

## 食事に誘う

```
U: #{料理名}に行きませんか？ | 適切な料理名で誘えている ? ↑ : ↓
S: if 評価が十分高い ? 是非よろしくお願いします　: また今後の機会にお願いします
```
